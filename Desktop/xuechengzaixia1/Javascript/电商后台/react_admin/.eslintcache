[{"C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\index.js":"1","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\App.js":"2","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\login\\login.jsx":"3","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\admin\\admin.jsx":"4","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\api\\index.js":"5","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\api\\ajax.js":"6","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\utils\\memoryUtils.js":"7","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\utils\\storeageUtils.js":"8","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\components\\header\\index.jsx":"9","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\components\\Left-Nav\\index.jsx":"10","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\home\\home.jsx":"11","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\user\\user.jsx":"12","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\product\\product.jsx":"13","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\chats\\line.jsx":"14","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\chats\\pie.jsx":"15","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\chats\\bar.jsx":"16","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\role\\role.jsx":"17","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\category\\category.jsx":"18","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\menuConfig\\menuConfig.js":"19","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\utils\\nowTime.js":"20","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\components\\link-button\\linkButton.jsx":"21","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\category\\cate-form.jsx":"22","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\category\\update-form.jsx":"23","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\product\\detail.jsx":"24","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\product\\home.jsx":"25","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\product\\add-update.jsx":"26","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\utils\\page-size.js":"27","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\product\\upload-image.jsx":"28","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\product\\rich-text-editor.jsx":"29","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\role\\set-role-auth.jsx":"30","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\user\\create-user.jsx":"31"},{"size":333,"mtime":1607181584281,"results":"32","hashOfConfig":"33"},{"size":455,"mtime":1606577878030,"results":"34","hashOfConfig":"33"},{"size":3780,"mtime":1607219207700,"results":"35","hashOfConfig":"33"},{"size":1781,"mtime":1607256878611,"results":"36","hashOfConfig":"33"},{"size":3213,"mtime":1608293231387,"results":"37","hashOfConfig":"33"},{"size":831,"mtime":1607176601013,"results":"38","hashOfConfig":"33"},{"size":30,"mtime":1607181907106,"results":"39","hashOfConfig":"33"},{"size":404,"mtime":1607179749064,"results":"40","hashOfConfig":"33"},{"size":2037,"mtime":1608035521192,"results":"41","hashOfConfig":"33"},{"size":4026,"mtime":1608300601344,"results":"42","hashOfConfig":"33"},{"size":206,"mtime":1607342297751,"results":"43","hashOfConfig":"33"},{"size":4340,"mtime":1608295313571,"results":"44","hashOfConfig":"33"},{"size":602,"mtime":1607689267398,"results":"45","hashOfConfig":"33"},{"size":139,"mtime":1607222373237,"results":"46","hashOfConfig":"33"},{"size":137,"mtime":1607220561109,"results":"47","hashOfConfig":"33"},{"size":137,"mtime":1607220976219,"results":"48","hashOfConfig":"33"},{"size":4806,"mtime":1608302992801,"results":"49","hashOfConfig":"33"},{"size":5957,"mtime":1608300623715,"results":"50","hashOfConfig":"33"},{"size":1244,"mtime":1608298771888,"results":"51","hashOfConfig":"33"},{"size":267,"mtime":1608121453886,"results":"52","hashOfConfig":"33"},{"size":660,"mtime":1607267816156,"results":"53","hashOfConfig":"33"},{"size":1428,"mtime":1607528046948,"results":"54","hashOfConfig":"33"},{"size":907,"mtime":1608034494878,"results":"55","hashOfConfig":"33"},{"size":2756,"mtime":1607957462106,"results":"56","hashOfConfig":"33"},{"size":4640,"mtime":1607787381786,"results":"57","hashOfConfig":"33"},{"size":7404,"mtime":1607955713857,"results":"58","hashOfConfig":"33"},{"size":26,"mtime":1607607058585,"results":"59","hashOfConfig":"33"},{"size":2666,"mtime":1607873573093,"results":"60","hashOfConfig":"33"},{"size":2992,"mtime":1607956444461,"results":"61","hashOfConfig":"33"},{"size":2346,"mtime":1608300683246,"results":"62","hashOfConfig":"33"},{"size":2248,"mtime":1608292915747,"results":"63","hashOfConfig":"33"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},"1mhnh26",{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79","usedDeprecatedRules":"66"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82","usedDeprecatedRules":"66"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85","usedDeprecatedRules":"66"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"102","messages":"103","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"116","usedDeprecatedRules":"66"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"119","usedDeprecatedRules":"66"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"122","usedDeprecatedRules":"66"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"127"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"132","messages":"133","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\index.js",[],["134","135"],"C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\App.js",[],"C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\login\\login.jsx",[],"C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\admin\\admin.jsx",[],"C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\api\\index.js",[],"C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\api\\ajax.js",[],"C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\utils\\memoryUtils.js",["136"],"export default {\r\n  user:{}\r\n}","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\utils\\storeageUtils.js",["137"],"import store from 'store'\r\n\r\nconst USER_KEY = 'user_key'\r\nexport default {\r\n  setStore(user) {\r\n    // localStorage.setItem(USER_KEY,JSON.stringify(user))\r\n    store.set(USER_KEY,user)\r\n  },\r\n  getStore() {\r\n    // return JSON.parse(localStorage.getItem(USER_KEY)||'{}')\r\n   return store.get(USER_KEY)\r\n  },\r\n  removeStore() {\r\n    // localStorage.removeItem(USER_KEY)\r\n    store.remove(USER_KEY)\r\n  }\r\n}","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\components\\header\\index.jsx",["138"],"import React, {Component} from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\n\r\nimport nowTime from '../../utils/nowTime'\r\nimport {reqWeater} from '../../api/index' //天气接口收费了 没钱\r\nimport menuList from '../../menuConfig/menuConfig'\r\nimport memoryUtils from '../../utils/memoryUtils'\r\nimport LinkButton from '../../components/link-button/linkButton'\r\n\r\nimport './header.less'\r\n class Header extends Component {\r\n\r\n  state = {\r\n    currentTime: nowTime(new Date()),\r\n    wea:'',\r\n    title:''\r\n  }\r\n\r\n  getTitle = (menuList) => {\r\n    const path = this.props.location.pathname\r\n    let title\r\n    menuList.forEach((item,index) => {\r\n      if(item.key===path) {\r\n        title = item.title\r\n      }else if(item.children) {\r\n        const cItem = item.children.find(cItem => cItem.key===(path.indexOf('/product')!==-1?'/product':path))\r\n        if(cItem) {\r\n          title=cItem.title\r\n        }\r\n      }\r\n    })\r\n    return title\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    this.timeId = setInterval(() => {\r\n      this.setState({\r\n        currentTime:nowTime(new Date()),\r\n        wea:'晴'\r\n      })\r\n    }, 10000);\r\n  }\r\n  componentWillUnmount() {\r\n    clearInterval(this.timeId)\r\n  }\r\n\r\n  render() {\r\n    const title = this.getTitle(menuList)\r\n    const user = memoryUtils.user\r\n    \r\n    return (\r\n      <div className=\"header\">\r\n        <div className=\"header-top\">\r\n          <span>欢迎, {user.username} </span>\r\n          <LinkButton props={this.props }>退出</LinkButton>\r\n        </div>\r\n        \r\n        <div className=\"header-bottom\">\r\n          <span className=\"header-bottom-left\">\r\n            {title}\r\n          </span>\r\n          <span className=\"header-bottom-right\">\r\n            <span>{this.state.currentTime} </span>\r\n            <img src=\"https://dss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=2456598790,3918683429&fm=26&gp=0.jpg\" alt=\"weater\"/>\r\n            <span> {this.state.wea}  </span>\r\n          </span>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default withRouter(Header)","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\components\\Left-Nav\\index.jsx",[],"C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\home\\home.jsx",[],"C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\user\\user.jsx",["139","140","141","142","143","144"],"C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\product\\product.jsx",[],"C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\chats\\line.jsx",[],"C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\chats\\pie.jsx",[],"C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\chats\\bar.jsx",[],"C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\role\\role.jsx",["145","146"],"C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\category\\category.jsx",["147","148","149","150"],"C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\menuConfig\\menuConfig.js",[],"C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\utils\\nowTime.js",[],"C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\components\\link-button\\linkButton.jsx",[],"C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\category\\cate-form.jsx",[],"C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\category\\update-form.jsx",[],"C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\product\\detail.jsx",["151","152"],"import React, {Component} from 'react'\r\nimport {Card,List} from 'antd'\r\nimport {ArrowLeftOutlined} from '@ant-design/icons'\r\n\r\nimport {reqCategoryId} from '../../api/index'\r\n\r\nconst Item = List.Item\r\n\r\nexport default class Detail extends Component {\r\n  state = {\r\n    productTypeName1:'',//父分类的名称\r\n    productTypeName2:'',//子分类的名称\r\n  }\r\n\r\n  async componentDidMount() {\r\n    //pCategoryId 父\r\n    //categoryId 子\r\n    const {categoryId,pCategoryId} = this.props.location.state\r\n    //判断是不是父分类下的 是就没有子分类名称\r\n    if(pCategoryId==='0') {\r\n     const result = await reqCategoryId(categoryId)\r\n      this.setState({\r\n        productTypeName1:result.data.name\r\n      })\r\n    }else {\r\n      const results = await Promise.all([reqCategoryId(pCategoryId),reqCategoryId(categoryId)])\r\n      this.setState({\r\n        productTypeName1:results[0].data.name,\r\n        productTypeName2:results[1].data.name\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {name,price,_id,imgs,desc,detail} = this.props.location.state\r\n    const {productTypeName1,productTypeName2} = this.state\r\n    \r\n    const title = <span>\r\n      <a onClick={() => this.props.history.goBack()}>\r\n      <ArrowLeftOutlined style={{marginRight:15,color:'green'}}\r\n      />\r\n      </a> \r\n      商品详情\r\n      </span>\r\n    return (\r\n      <Card\r\n      className=\"product-detail\"\r\n      title={title}\r\n      >\r\n        <List\r\n        >\r\n        <Item>\r\n          <span className=\"product-detail-left\">商品名称:</span>\r\n          {name}\r\n        </Item>\r\n        <Item>\r\n          <span className=\"product-detail-left\">商品描述:</span>\r\n          {desc?desc: '暂未填写'}\r\n        </Item>\r\n        <Item>\r\n          <span>\r\n          <span className=\"product-detail-left\">商品价格:</span>\r\n          {price}￥\r\n          </span>\r\n        </Item>\r\n        <Item>\r\n          <span className=\"product-detail-left\">所属分类:</span>\r\n          {productTypeName1} {productTypeName2? '-->' + productTypeName2 : ''}\r\n        </Item>\r\n        <Item>\r\n          <span>\r\n          <span className=\"product-detail-left\">商品图片:</span>\r\n          {imgs.length!==0? imgs.map(\r\n            (img,imdex) => (\r\n            <img \r\n            key={imdex}\r\n            src={img.url}\r\n            style={{width:150,height:150,marginRight:15}}\r\n             alt=\"笔记本\"\r\n             />\r\n          )) :'暂未上传图片'}\r\n          </span>\r\n        </Item>\r\n        <Item>\r\n          <span>\r\n          <span className=\"product-detail-left\">商品详情:</span>\r\n          <span \r\n          dangerouslySetInnerHTML={{__html:detail}}\r\n          />\r\n          </span>\r\n        </Item>\r\n        </List>\r\n      </Card>\r\n    )\r\n  }\r\n}\r\n","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\product\\home.jsx",["153","154","155"],"import React, {Component} from 'react'\r\nimport {Card,Input,Table,Select,Button,message} from 'antd'\r\nimport {PlusOutlined} from '@ant-design/icons'\r\n\r\nimport {reqListPage,reqSearchProdocts,setProductStatus} from '../../api/index'\r\nimport {PAGE_SIZE} from '../../utils/page-size'\r\nconst Option = Select.Option\r\nexport default class ProductHome extends Component {\r\n\r\n  state = {\r\n    porducts:[],\r\n    total:'',\r\n    loading:false,\r\n    value:'',//搜索内容\r\n    searchType:'productName',//搜索的类型\r\n    currentPage:1,\r\n    productStatus:''//根据商品的状态判断上架/下架\r\n  }\r\n\r\n  initColumns = () => {\r\n    this.columns = [\r\n      {\r\n        title: '商品名称',\r\n        dataIndex: 'name',\r\n      },\r\n      {\r\n        title: '商品描述',\r\n        dataIndex: 'desc',\r\n      },\r\n      {\r\n        title: '价格',\r\n        dataIndex: 'price',\r\n        render:price => <span>￥{price}</span> \r\n      },\r\n      {\r\n        width:100,\r\n        title: '状态',\r\n        render:product => {\r\n          let status = product.status===1 ? 2 : 1\r\n          return (\r\n          <span>\r\n            <Button \r\n            type='primary'\r\n            onClick={() => this.updateStatus(product._id,status)}\r\n            > {status===1?'下架':'上架'} </Button>\r\n            {status===1?'在售':'已下架'}\r\n          </span>\r\n        )\r\n        }\r\n      },\r\n      {\r\n        width:100,\r\n        title: '操作',\r\n        render:(product) => (\r\n          <span>\r\n            <a onClick={() => this.props.history.push('/product/detail',product)}>详情</a>\r\n            <br/>\r\n            <a\r\n            onClick={() => this.props.history.push('/product/addupdate',product)}\r\n            >修改</a>\r\n          </span>\r\n        )\r\n      },\r\n    ]\r\n  }\r\n  //商品上架与下架\r\n  updateStatus =async (productId,status) => {\r\n    const {currentPage} = this.state\r\n    const result = await setProductStatus(productId,status)\r\n      if(result.status===0) {\r\n        //重新获取商品一刷新页面显示 传递当前页码 更改时当前页码不变动\r\n        this.getListPage(currentPage)\r\n        message.success('更新状态成功')\r\n    }else {\r\n        message.error('更新状态失败')\r\n    }\r\n    \r\n  }\r\n  //获取分页商品的函数\r\n  getListPage =async (pageNum=1) => {\r\n    this.setState({\r\n      loading:true\r\n    })\r\n   const result = await reqListPage(pageNum,PAGE_SIZE)\r\n   if(result.status===0) {\r\n    this.setState({\r\n      loading:false,\r\n      porducts:result.data.list,\r\n      total:result.data.total,\r\n      currentPage:pageNum\r\n    })\r\n   }\r\n  }\r\n\r\n  //搜索指定的商品\r\n  searchProduct =async () => {\r\n    this.setState({\r\n      loading:true\r\n    })\r\n    const {searchType,value} = this.state\r\n    console.log(searchType,value);\r\n    let searchName=value\r\n    let pageNum=1\r\n    const result = await reqSearchProdocts(pageNum,PAGE_SIZE,searchType,searchName)\r\n    console.log(pageNum);\r\n    this.setState({\r\n      porducts:result.data.list,\r\n      total:result.data.total,\r\n      loading:false,\r\n      currentPage:1\r\n    })\r\n  }\r\n\r\n  //初始化渲染cloumns\r\n  componentWillMount() {\r\n    this.initColumns()\r\n  }\r\n  \r\n  componentDidMount() {\r\n    this.getListPage()\r\n  }\r\n\r\n  render() {\r\n    const {porducts,total,loading,currentPage,productStatus} = this.state\r\n    //搜索区\r\n    const title = (\r\n      <span>\r\n        <Select \r\n        defaultValue=\"productName\" \r\n        style={{width:150}}\r\n        onChange={(value) => this.setState({searchType:value})}\r\n        >\r\n          <Option value=\"productName\">按名称搜索</Option>\r\n          <Option value=\"productDesc\">按类型搜索</Option>\r\n        </Select>\r\n        <Input \r\n        placeholder=\"关键字\" \r\n        style={{width:150,margin:'0 15px'}}\r\n        onChange={(event) => this.setState({value:event.target.value})}\r\n        ></Input>\r\n        <Button \r\n        type='primary'\r\n        onClick={this.searchProduct}\r\n        >搜索</Button>\r\n      </span>\r\n    )\r\n    //添加商品区\r\n    const extra = (\r\n      <Button \r\n      type='primary'\r\n      onClick={() => this.props.history.push('/product/addupdate')}\r\n      >\r\n        <PlusOutlined/>\r\n        添加商品\r\n      </Button>\r\n    )\r\n\r\n    return (\r\n      <Card\r\n      title={title}\r\n      extra={extra}\r\n      >\r\n\r\n    <Table \r\n    rowKey=\"_id\"\r\n    dataSource={porducts} \r\n    columns={this.columns}\r\n    loading={loading} \r\n    pagination={{\r\n      defaultPageSize:3,\r\n      total:total,\r\n      onChange:(pageNum) => {this.getListPage(pageNum)},\r\n      showQuickJumper:true,\r\n      current:currentPage\r\n    }}\r\n    />\r\n      </Card>\r\n    )\r\n  }\r\n}\r\n","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\product\\add-update.jsx",["156","157"],"import React, {Component} from 'react'\r\nimport {\r\n  Card,\r\n  Input,\r\n  Form,\r\n  Button,\r\n  Cascader,\r\n  message\r\n} from 'antd'\r\n\r\nimport {ArrowLeftOutlined} from '@ant-design/icons'\r\n\r\nimport {reqCaterogy,reqAddOrUpdateProduct} from '../../api/index'\r\nimport UploadImage from './upload-image'\r\nimport RichTextEditor from './rich-text-editor'\r\n\r\nconst {Item} = Form\r\nconst {TextArea} = Input\r\n\r\nexport default class AddUpdate extends Component {\r\n\r\n  state = {\r\n    options:[],\r\n    imgs:[],\r\n    editorValue:''//富文本框hmtl值\r\n  }\r\n\r\n  //提交按钮\r\n  updateData = async(val) => {\r\n    val.imgs=this.state.imgs\r\n    const {editorValue} = this.state\r\n    console.log(val,editorValue);\r\n    console.log(val.category[1]);\r\n    let product = {\r\n      categoryId:val.category[1]?val.category[1]:val.category[0],\r\n      pCategoryId:!val.category[1]?0:val.category[0],\r\n      name:val.name,\r\n      desc:val.desc,\r\n      price:val.price,\r\n      detail:editorValue,\r\n      imgs:val.imgs,\r\n      _id:this.props.location.state?this.props.location.state._id:null\r\n    }\r\n    \r\n    const result = await reqAddOrUpdateProduct(product)\r\n    if(result.status===0) {\r\n      this.props.history.goBack()\r\n      message.success('添加成功')\r\n    }else {\r\n      message.error('添加失败')\r\n    }\r\n  }\r\n\r\n  //初始化分类\r\n  initCaterogy = async(parentId) => {\r\n    const result = await reqCaterogy(parentId)\r\n    const {data} = result\r\n        if(!parentId) {\r\n          if(result.status===0) {\r\n            let item = data.map(cItem => ({\r\n              value:cItem._id,\r\n              label:cItem.name,\r\n              isLeaf:false,\r\n            }))\r\n            this.setState({\r\n              options:item\r\n            })\r\n          }\r\n        }else {\r\n            const {options} = this.state\r\n            let option = data.find(e => e.parentId===parentId)\r\n            options.map(item => {\r\n              return item.value===option.parentId?item.children=[{\r\n                label:`${option.name}`,\r\n                value:option._id,\r\n                isLeaf:false,\r\n              }]:null\r\n            })\r\n            this.setState({\r\n              options\r\n            })\r\n        }\r\n  }\r\n\r\n  //获取上传的文件 因为在子组件 所以需要通过传递函数的形式来获取\r\n  getImgs = (imgs) => {\r\n    this.setState({\r\n      imgs\r\n    })\r\n  }\r\n\r\n  //获取富文本框输入的html文本\r\n  getEditor = (editorValue) => {\r\n    this.setState({\r\n      editorValue\r\n    })\r\n  }\r\n\r\n  //初始化分类\r\n   async componentDidMount() {\r\n    const {categoryId,pCategoryId} = this.props.location.state?this.props.location.state:{}\r\n    let parentId=pCategoryId==='0'?0:pCategoryId\r\n    this.initCaterogy(0)\r\n    this.initCaterogy(parentId)\r\n  }\r\n\r\n  //加载二级分类\r\n  loadData =async selectedOptions => {\r\n    const targetOption = selectedOptions[0];\r\n    targetOption.loading = true;\r\n      const result = await reqCaterogy(targetOption.value)\r\n      targetOption.loading = false;\r\n      const {data} = result\r\n      if(result.status===0) {\r\n       //这一步很重要 在targetOption的孩子上增加数组数据才行 我服了\r\n        targetOption.children = data.map(item => ({\r\n          label: `${item.name}`,\r\n          value: item._id,})\r\n        )\r\n      this.setState({\r\n        //搞半天是要在原来的数据上增加targetOption.children\r\n        options:this.state.options\r\n      })\r\n    }\r\n  };\r\n\r\n  render() {\r\n    //记住!! 添加和修改是使用了同一个页面\r\n    //获取系相应数据 加{}是为了防止报错 因为点击添加时this.props.location.state是没有数据的\r\n    const {name,desc,price,categoryId,pCategoryId,imgs,detail} = this.props.location.state?this.props.location.state:{}\r\n    //对界面组件的一些配置\r\n    const layout = {\r\n      labelCol: {span: 2,},\r\n      wrapperCol: {span: 8,}\r\n    };\r\n    const title = <span>\r\n      <a \r\n      onClick={() => this.props.history.goBack()}\r\n      style={{marginRight:15}}\r\n    > \r\n      <ArrowLeftOutlined/>\r\n      </a>\r\n        {/* 这里根据pCategoryId===0判断是否是修改商品或者添加商品 因为修改的链接push传递了点击该产品的数据 */}\r\n      {pCategoryId?'修改商品':'添加商品'}\r\n      </span>\r\n    return (\r\n      <Card\r\n      title={title}\r\n      >\r\n        <Form\r\n        onFinish={this.updateData}\r\n        {...layout}\r\n        >\r\n          <Item\r\n          initialValue={name}\r\n          label=\"商品名称\"\r\n          name=\"name\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: '请输入商品名称',\r\n            },\r\n          ]}\r\n          >\r\n            <Input \r\n            // defaultValue={name}\r\n            placeholder=\"请输入商品名称\"/>\r\n          </Item>\r\n\r\n          <Item\r\n          initialValue={desc?desc:null}\r\n          label=\"商品描述\"\r\n          name=\"desc\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: '请输入商品名称',\r\n            },\r\n          ]}\r\n          >\r\n            <TextArea\r\n            // defaultValue={desc?desc:null}\r\n            placeholder=\"请输入商品描述\" autoSize={{minRows:2,maxRows:4}}/>\r\n          </Item>\r\n\r\n          <Item\r\n          initialValue={price}\r\n          label=\"商品价格\"\r\n          name=\"price\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"你倒是输入啊,但是别小于0好吧\",\r\n              //对输入的价格进行判断 需要大于0\r\n              validator:(ruel,val,callback) => {\r\n                if(val*1 < 1||!val) {\r\n                  new Promise((resolve,reject) => reject('1'))\r\n                }else { \r\n                  new Promise(() => callback())\r\n                }\r\n              }\r\n            },\r\n          ]}\r\n          >\r\n            <Input \r\n            type='number'\r\n            // defaultValue={price}\r\n            addonAfter=\"元\"\r\n            placeholder=\"请输入商品价格\"\r\n            onChange={() => this.priceSub}\r\n            />\r\n          </Item>\r\n\r\n          <Item\r\n          //这里巧妙的修复了添加商品的商品分类下会出现/的问题\r\n          initialValue={!pCategoryId?'':(pCategoryId==='0'?[categoryId]:[pCategoryId,categoryId])}\r\n          label=\"商品分类\"\r\n          name=\"category\"\r\n          rules={[\r\n            {\r\n              type: 'array',\r\n              required: true,\r\n              message: '请选择商品分类啊!',\r\n            },\r\n          ]}\r\n          >\r\n            <Cascader \r\n            placeholder=\"请选择商品分类\"\r\n            options={this.state.options}\r\n            changeOnSelect\r\n            loadData={this.loadData}\r\n             />\r\n          </Item>\r\n          <Item\r\n          label=\"商品图片\"\r\n          name=\"photo\"\r\n          >\r\n           <UploadImage getImgs={this.getImgs} imgs={imgs}/>\r\n          </Item>\r\n\r\n          <Item\r\n          initialValue={this.state.editorValue}\r\n          label=\"商品详情\"\r\n          name=\"detail\"\r\n          labelCol={{span:2}}\r\n          wrapperCol={{span:20}}\r\n          >\r\n            <RichTextEditor getEditor={this.getEditor} detail={detail}/>\r\n          </Item>\r\n\r\n          <Button\r\n           type='primary'\r\n           htmlType=\"submit\"\r\n           >\r\n            提交\r\n          </Button>\r\n        </Form>\r\n      </Card>\r\n    )\r\n  }\r\n}\r\n\r\n","C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\utils\\page-size.js",[],"C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\product\\upload-image.jsx",[],["158","159"],"C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\product\\rich-text-editor.jsx",[],"C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\role\\set-role-auth.jsx",["160","161"],"C:\\Users\\lenovo\\Desktop\\xuechengzaixia1\\Javascript\\电商后台\\react_admin\\src\\pages\\user\\create-user.jsx",["162","163"],{"ruleId":"164","replacedBy":"165"},{"ruleId":"166","replacedBy":"167"},{"ruleId":"168","severity":1,"message":"169","line":1,"column":1,"nodeType":"170","endLine":3,"endColumn":2},{"ruleId":"168","severity":1,"message":"169","line":4,"column":1,"nodeType":"170","endLine":17,"endColumn":2},{"ruleId":"171","severity":1,"message":"172","line":5,"column":9,"nodeType":"173","messageId":"174","endLine":5,"endColumn":18},{"ruleId":"171","severity":1,"message":"175","line":2,"column":41,"nodeType":"173","messageId":"174","endLine":2,"endColumn":45},{"ruleId":"176","severity":1,"message":"177","line":61,"column":60,"nodeType":"178","messageId":"179","endLine":61,"endColumn":61,"suggestions":"180"},{"ruleId":"176","severity":1,"message":"177","line":62,"column":37,"nodeType":"178","messageId":"179","endLine":62,"endColumn":38,"suggestions":"181"},{"ruleId":"176","severity":1,"message":"177","line":101,"column":85,"nodeType":"178","messageId":"179","endLine":101,"endColumn":86,"suggestions":"182"},{"ruleId":"183","severity":1,"message":"184","line":110,"column":11,"nodeType":"185","endLine":113,"endColumn":12},{"ruleId":"183","severity":1,"message":"184","line":114,"column":11,"nodeType":"185","endLine":117,"endColumn":12},{"ruleId":"171","severity":1,"message":"186","line":1,"column":27,"nodeType":"173","messageId":"174","endLine":1,"endColumn":40},{"ruleId":"183","severity":1,"message":"184","line":35,"column":25,"nodeType":"185","endLine":35,"endColumn":28},{"ruleId":"171","severity":1,"message":"187","line":2,"column":33,"nodeType":"173","messageId":"174","endLine":2,"endColumn":40},{"ruleId":"183","severity":1,"message":"184","line":152,"column":9,"nodeType":"185","endLine":152,"endColumn":97},{"ruleId":"183","severity":1,"message":"184","line":171,"column":11,"nodeType":"185","endLine":171,"endColumn":75},{"ruleId":"183","severity":1,"message":"184","line":173,"column":11,"nodeType":"185","endLine":175,"endColumn":12},{"ruleId":"171","severity":1,"message":"188","line":35,"column":23,"nodeType":"173","messageId":"174","endLine":35,"endColumn":26},{"ruleId":"183","severity":1,"message":"184","line":39,"column":7,"nodeType":"185","endLine":39,"endColumn":54},{"ruleId":"183","severity":1,"message":"184","line":56,"column":13,"nodeType":"185","endLine":56,"endColumn":83},{"ruleId":"183","severity":1,"message":"184","line":58,"column":13,"nodeType":"185","endLine":60,"endColumn":14},{"ruleId":"171","severity":1,"message":"189","line":124,"column":47,"nodeType":"173","messageId":"174","endLine":124,"endColumn":60},{"ruleId":"171","severity":1,"message":"190","line":101,"column":12,"nodeType":"173","messageId":"174","endLine":101,"endColumn":22},{"ruleId":"183","severity":1,"message":"184","line":137,"column":7,"nodeType":"185","endLine":140,"endColumn":6},{"ruleId":"164","replacedBy":"191"},{"ruleId":"166","replacedBy":"192"},{"ruleId":"171","severity":1,"message":"193","line":7,"column":8,"nodeType":"173","messageId":"174","endLine":7,"endColumn":17},{"ruleId":"171","severity":1,"message":"194","line":18,"column":5,"nodeType":"173","messageId":"174","endLine":18,"endColumn":8},{"ruleId":"171","severity":1,"message":"195","line":2,"column":9,"nodeType":"173","messageId":"174","endLine":2,"endColumn":13},{"ruleId":"171","severity":1,"message":"196","line":2,"column":19,"nodeType":"173","messageId":"174","endLine":2,"endColumn":24},"no-native-reassign",["197"],"no-negated-in-lhs",["198"],"import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","no-unused-vars","'reqWeater' is defined but never used.","Identifier","unusedVar","'Form' is defined but never used.","no-useless-escape","Unnecessary escape character: \\\".","Literal","unnecessaryEscape",["199","200"],["201","202"],["203","204"],"jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","'PureComponent' is defined but never used.","'message' is defined but never used.","'_id' is assigned a value but never used.","'productStatus' is assigned a value but never used.","'categoryId' is assigned a value but never used.",["197"],["198"],"'PropTypes' is defined but never used.","'arr' is defined but never used.","'Card' is defined but never used.","'Modal' is defined but never used.","no-global-assign","no-unsafe-negation",{"messageId":"205","fix":"206","desc":"207"},{"messageId":"208","fix":"209","desc":"210"},{"messageId":"205","fix":"211","desc":"207"},{"messageId":"208","fix":"212","desc":"210"},{"messageId":"205","fix":"213","desc":"207"},{"messageId":"208","fix":"214","desc":"210"},"removeEscape",{"range":"215","text":"216"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"217","text":"218"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"219","text":"216"},{"range":"220","text":"218"},{"range":"221","text":"216"},{"range":"222","text":"218"},[1470,1471],"",[1470,1470],"\\",[1517,1518],[1517,1517],[2343,2344],[2343,2343]]